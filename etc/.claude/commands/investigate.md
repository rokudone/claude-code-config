# 調査しなさい

**追って指示をだします。まだ作業をしないでください。**

## 概要と全体原則

Debugging Workflowに従って、調査を行いなさい。調査の内容は追って指示をします

### Stage 0: 準備フェーズ

- ユーザーがClaude Codeに対して、実行したいタスクの概要を伝える
- `git rev-parse --show-toplevel` でプロジェクトルート確認
- investigationディレクトリを作成
    - ステップ1 まず date コマンドで時刻を取得
        - `date +"%Y-%m-%d_%H-%M-%S"`
    - ステップ2 その結果を使って mkdir -p を実行
        - `mkdir -p /path/to/.agent/investigations/2025-08-20_14-45-58-investigation-name/`
  - mkdir -p はパイプで繋がず必ず単独で実行すること
- mkdir -p はパイプで繋がず必ず単独で実行すること そうしないと余計な確認が挟まります
- 動的な値は先に取得してから使うこと そうしないと余計な確認が挟まります

### Stage 1: 調査準備フェーズ

- ユーザの指示に従いDebugging Workflowに従って調査を計画を立てる
- 間違った方向に進まぬよう、納得のいくまで質問すること

### Gate 1: 確認フェーズ

- 調査計画の内容について承認を求める
- 私が確認し、追加の計画立案を指示するか、調査の開始を承認する

### Stage 2: 調査フェーズ

- Debugging Workflowに従って調査を行い、以下の2ファイルを作成すること
- process.mdを作成すること
    - 開いたファイルと行番号
    - そこから推測した内容
    - そこから派生したファイルと行番号
- report.mdを作成すること
    - 調査結果をまとめた物を記載すること
    - またそこから推測した内容を記載すること
    - 結論

### Gate 2: 確認フェーズ
- まずファイルを作成し、ファイルパスを出力する
- 作成したファイルに対してレビューと承認を求める
- 私が確認し、追加の調査を指示するか、調査の完了承認を行う
- 追加の調査を行った場合は、同じファイルを更新する

## 重要

**追って指示をだします。まだ作業をしないでください。**

